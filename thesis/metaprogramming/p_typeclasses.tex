\section{Typeclasses}
% -------------------------------------------------------------
\begin{frame}[fragile]
\frametitle{Serialize}

\begin{lstlisting}
defn serializeBool : bool -> string -> type
  >| serializeBool-t = serializeBool true ``true''
  >| serializeBool-f = serializeBool false ``false''

query readQ = 
   exists B : bool. serializeBool B ``true''

query printQ = 
   exists S : string . serializeBool false S
\end{lstlisting}

\end{frame}
% -------------------------------------------------------------

\begin{frame}[fragile]
\frametitle{Type Class for Serialize}

\begin{lstlisting}
defn serialize : {T}{serable : T -> string -> type} 
                 T -> string -> type
   | serializeImp = 
     [ Serer : T -> string -> type ]
     [ Serable : serializable T { serer = Serer }]
       serialize { serable = Serable } V S
     <- Serer V S

defn serializable : 
      [T]{serer : T -> string -> type} type
   | serialize-bool = 
      serializable bool { serer = serializeBool }
   | serialize-nat = 
      serializable nat { serer = serializeNat }

query readQueryBool = 
   exists B : bool . serialize B ``true''
query printQueryNat = 
   exists S . serialize (succ (succ zero)) S
\end{lstlisting}

\end{frame}
% -------------------------------------------------------------
